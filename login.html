<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hack Store — Login</title>

  <!-- load the site stylesheet from uid_cp -->
  <link rel="stylesheet" href="uid_cp/styles.css">

  <!-- small page-specific rules to integrate with site theme -->
  <style>
    /* page-specific background (image placed in uid_cp/login.jpg) */
    body {
      margin: 0;
      font-family: Inter, "Segoe UI", Roboto, Arial, sans-serif;
      color: #e6e6e6;
      background-image: url('darth-vader.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* dark overlay for readability */
    .login-overlay {
      min-height: 100vh;
      background: rgba(0,0,0,0.55);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px 18px;
    }

    .login-card {
      width: 420px;
      max-width: 96%;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      padding: 22px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }

    .login-card h1 { margin:0 0 12px; color: var(--accent, #1aff66); font-size:1.25rem; }
    .login-card label { display:block; margin-top:12px; margin-bottom:6px; color: var(--muted, #bfc5c1); font-size:0.9rem; }
    .login-card input[type="text"], .login-card input[type="password"] {
      width:100%; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background: rgba(0,0,0,0.45); color: #e6e6e6;
    }

    .captcha-row { display:flex; align-items:center; gap:10px; margin-top:12px; }
    #captcha-canvas { border-radius:6px; background:#fff; height:48px; width:160px; display:block; }
    #reload-captcha { padding:6px 8px; border-radius:6px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit; cursor:pointer; }

    .help { margin-top:10px; color:var(--muted, #bfc5c1); font-size:0.9rem; }
    .login-actions { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:16px; }

    .btn-sign { background:var(--accent, #1aff66); color:#04110a; padding:10px 14px; border-radius:8px; border:0; font-weight:700; cursor:pointer; text-decoration:none; display:inline-block; }
    .status { margin-top:12px; font-size:0.95rem; min-height:1.1em; color: #e6e6e6; }

    .site-header .brand img { width:36px; height:36px; object-fit:cover; border-radius:6px; }
    /* responsive tweak */
    @media (max-width:440px){
      .login-card { padding:16px; width: 92%; }
      #captcha-canvas{ width: 140px; height:44px; }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a href="main.html" class="brand">
        <img src="https://echouserbalasatwik.wordpress.com/wp-content/uploads/2025/05/whatsapp-image-2025-05-27-at-19.32.25_0dcfaf6b.jpg" alt="Hack Store logo">
        <span>Hack Store</span>
      </a>
    </div>
  </header>

  <!-- login form (root page) -->
  <main class="login-overlay">
    <form id="login-form" class="login-card" autocomplete="off" aria-labelledby="login-title" role="form">
      <h1 id="login-title">Sign in to Hack Store</h1>

      <label for="username">Username</label>
      <input id="username" name="username" type="text" inputmode="text" required autofocus />

      <label for="password">Password</label>
      <input id="password" name="password" type="password" required />

      <div class="captcha-row">
        <canvas id="captcha-canvas" width="160" height="48" aria-hidden="true"></canvas>
        <button id="reload-captcha" type="button" title="Reload captcha" aria-label="Reload captcha">⟳</button>
      </div>

      <label for="captcha">Enter the characters shown above</label>
      <input id="captcha" name="captcha" type="text" inputmode="text" required maxlength="8" />

      <div class="help">Demo credentials: <strong>redeye / redeye123</strong></div>

      <div class="login-actions">
        <button id="login-btn" class="btn-sign" type="submit">Sign in</button>
        <a class="btn" href="uid_cp/index.html" style="text-decoration:none; padding:10px 14px; border-radius:8px;">Browse as guest</a>
      </div>

      <div id="message" class="status" role="status" aria-live="polite"></div>
    </form>
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>Hack Store — student project</p>
    </div>
  </footer>

  <!-- load script from uid_cp assets (keeps your IIFE code) -->
  <script src="login.js"></script>
 <!-- Chatbox -->
<div id="chatbox-container">
  <img id="chat-sticker" src="sabine.webp" alt="Sabine Wren Sticker" />
  <div id="chat-box" class="hidden">
    <div id="chat-log"></div>
    <input type="text" id="chat-input" placeholder="Say something..." />
  </div>
</div>

<style>
  #chatbox-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 9999;
    text-align: center;
    cursor: pointer;
    font-family: Inter, sans-serif;
  }

  #chat-sticker {
    width: auto;          /* preserve aspect ratio */
    height: 160px;        /* set desired height */
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.4);
    transition: transform 0.2s;
  }

  #chat-sticker:hover {
    transform: scale(1.1);
  }

  #chat-box {
    display: flex;
    flex-direction: column;
    align-items: stretch;
    margin-top: 10px;
    background: rgba(0,0,0,0.8);
    padding: 10px;
    border-radius: 12px;
    width: 220px;
  }

  #chat-box.hidden {
    display: none;
  }

  #chat-log {
    max-height: 150px;
    overflow-y: auto;
    color: #e6e6e6;
    font-size: 0.9rem;
    margin-bottom: 6px;
  }

  #chat-input {
    padding: 6px 8px;
    border-radius: 8px;
    border: none;
    outline: none;
  }
</style>

<script>
  const chatSticker = document.getElementById('chat-sticker');
  const chatBox = document.getElementById('chat-box');
  const chatLog = document.getElementById('chat-log');
  const chatInput = document.getElementById('chat-input');

  chatSticker.addEventListener('click', () => {
    chatBox.classList.toggle('hidden');
  });

  chatInput.addEventListener('keypress', (e) => {
    if (e.key === 'Enter' && chatInput.value.trim() !== '') {
      const userMessage = chatInput.value.trim();
      chatLog.innerHTML += `<div><strong>You:</strong> ${userMessage}</div>`;
      chatLog.innerHTML += `<div><strong>Hack Store:</strong> We will contact you soon.</div>`;
      chatLog.scrollTop = chatLog.scrollHeight;
      chatInput.value = '';
    }
  });
</script>

</body>
</html>
